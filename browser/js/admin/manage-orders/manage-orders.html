<div class="row">
	<div class="col-xs-12">
		<h1>Orders</h1>
	</div>
	<div class="col-sm-3">
		<h2>Order ID</h2>
	</div>
	<div class="col-sm-3">
		<h2>Date</h2>
	</div>
	<div class="col-sm-3">
		<h2>Total</h2>
	</div>
	<div class="col-sm-3">
		<h2>Status</h2>
	</div>
</div>

<div class="row" ng-repeat="order in orders">
	<div ng-click="viewOrder(order['_id'])">
		<div class="col-sm-3">{{order._id}}</div>
		<div class="col-sm-3">{{order.purchaseDate | date}}</div>
		<div class="col-sm-3">{{order.totalCost}}</div>
		<div class="col-sm-3">{{order.status}}</div>
	</div>

	<div class="col-sm-12" ng-if="activeOrderId == (order['_id'])">
		<h3>Order #: {{currentOrder._id}}</h3>
		<p>Purchase Date: {{currentOrder.purchaseDate | date}} </p>
		<!-- <p>Order Status: {{currentOrder.status}} </p> -->
		<form>
			<select ng-model='currentOrder.statusUpdated'>
			<!-- Created -> Processing, Processing -> Cancelled, Completed --> 
				<option value="{{currentOrder.status}}"> -> {{currentOrder.status}}</option>
				<option>Processing</option>
				<option>Cancelled</option>
				<option>Completed</option>
			</select>
			<button ng-click="updateStatus()">Update Status</button>
		</form>
		<p>Total Cost: {{currentOrder.totalCost}}</p>
		<div ng-repeat="product in currentOrder.products">
			<p>Items in Order: </p>
			<img ng-src="{{product.product.imageUrl}}"/>
			<p>Item Name:{{product.product.name}}</p>
			<p>Quantity:{{product.quantity}}</p>
			<p>Price:{{product.product.price}}</p>
	</div>
</div>
